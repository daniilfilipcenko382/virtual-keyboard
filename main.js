(()=>{"use strict";var t=document.querySelector(".body"),e=(document.querySelector(".keyboard"),{code:[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]],eng:{key:[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","▲","Shift"],["Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"]],keyShift:[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","▲","Shift"],["Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"]]},rus:{key:[["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del"],["CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter"],["Shift","я","ч","с","м","и","т","ь","б","ю",".","▲","Shift"],["Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"]],keyShift:[["Ё","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","Del"],["CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter"],["Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","▲","Shift"],["Ctrl","Win","Alt"," ","Alt","◄","▼","►","Ctrl"]]}}),n=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","&#9650;","Shift","Ctrl","Win","Alt"," ","Alt","&#9668;","&#9660;","&#9658;","Ctrl"],i=["Ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","Del","CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter","Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",".","&#9650;","Shift","Ctrl","Win","Alt"," ","Alt","&#9668;","&#9660;","&#9658;","Ctrl"],r=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","&#9650;","Shift","Ctrl","Win","Alt"," ","Alt","&#9668;","&#9660;","&#9658;","Ctrl"],a=["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del","CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M","<",">","?","&#9650;","Shift","Ctrl","Win","Alt"," ","Alt","&#9668;","&#9660;","&#9658;","Ctrl"];window.addEventListener("load",(function(){l();var t=document.querySelectorAll(".key");console.log(t),document.querySelector(".keyboard");var e=document.querySelector(".text-area");function s(t){var e=t.toString().split("");return e.pop(),e.join("")}t.forEach((function(t){t.addEventListener("mousedown",(function(n){if(n.target.classList.contains("key"),t.classList.add("active"),"Enter"==t.firstChild.innerHTML)e.textContent+="\n";else if("Tab"==t.firstChild.innerHTML)e.textContent+="    ";else if("Alt"==t.firstChild.innerHTML||"Del"==t.firstChild.innerHTML||"Ctrl"==t.firstChild.innerHTML||"Win"==t.firstChild.innerHTML||"Shift"==t.firstChild.innerHTML||"CapsLock"==t.firstChild.innerHTML){var i=e.textContent;e.textContent=i}else"Backspace"==t.firstChild.innerHTML?e.textContent=s(e.textContent):e.textContent+=t.firstChild.innerHTML;t.addEventListener("mouseup",(function(e){t.classList.remove("active")}))}))})),document.onkeydown=function(l){l.preventDefault(),t.forEach((function(C){if(C.classList.contains("AltLeft"),C.classList.contains("".concat(l.code))){if(C.classList.add("active"),"Enter"==C.firstChild.innerHTML)e.textContent+="\n";else if("Tab"==C.firstChild.innerHTML)e.textContent+="    ",l.preventDefault();else if("Alt"==C.firstChild.innerHTML||"Del"==C.firstChild.innerHTML||"Ctrl"==C.firstChild.innerHTML||"Win"==C.firstChild.innerHTML||"Shift"==C.firstChild.innerHTML||"CapsLock"==C.firstChild.innerHTML){var L=e.textContent;e.textContent=L,l.preventDefault()}else"Backspace"==C.firstChild.innerHTML?e.textContent=s(e.textContent):e.textContent+=C.firstChild.innerHTML;C.classList.contains("CapsLock")&&(0==d?(0==o?(c=r,o=!0):(c=a,o=!1),f()):1==d&&(0==o?(c=n,o=!0):(c=i,o=!1),f())),l.altKey&&l.ctrlKey&&(0==o&&(0==d?(c=n,d=!0):(c=r,d=!1),f()),1==o&&(0==d?(c=a,d=!0):(c=i,d=!1),f()))}document.onkeyup=function(){t.forEach((function(t){t.classList.contains("active")&&t.classList.remove("active")}))}}))},document.onclick=function(n){t.forEach((function(t){if(t.classList.contains("".concat(n.code)))if("Enter"==t.firstChild.innerHTML)e.textContent+="\n";else if("Tab"==t.firstChild.innerHTML)e.textContent+="    ";else if("Alt"==t.firstChild.innerHTML||"Del"==t.firstChild.innerHTML||"Ctrl"==t.firstChild.innerHTML||"Win"==t.firstChild.innerHTML||"Shift"==t.firstChild.innerHTML||"CapsLock"==t.firstChild.innerHTML){var i=e.textContent;e.textContent=i}else"Backspace"==t.firstChild.innerHTML?e.textContent=s(e.textContent):e.textContent+=t.firstChild.innerHTML}))};var c=[],o=!1,d=!1;function f(){for(var t=document.querySelectorAll("span"),e=0;e<t.length;e++)t[e].innerHTML=c[e]}}));var l=function(){var n,i=document.createElement("div");i.classList.add("centrilizer"),t.append(i);var r=document.createElement("div");r.textContent="Виртуальная клавиатура",r.classList.add("title"),i.append(r);var a=document.createElement("textarea");a.classList.add("text-area"),a.rows=15,a.cols=93,i.append(a);var l=document.createElement("div");l.classList.add("keyboard"),i.append(l);for(var s=0;s<5;s++){var c=document.createElement("div");c.classList.add("row"),l.append(c);for(var o=0;o<e.code[s].length;o++){(n=document.createElement("div")).classList.add("key"),n.classList.add(e.code[s][o]),c.append(n);var d=document.createElement("span");d.classList.add("eng"),d.textContent=e.eng.key[s][o],n.append(d)}}}})();